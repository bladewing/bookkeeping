{% extends 'registration/base.html' %}
{% load mathfilters %}
{% load static %}

{% block title %}Summary{% endblock title %}

{% block content %}
    <script src="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.js"></script>
    <h1>Zusammenfassung</h1>

    {% if context %}

        <h2>Gesamtsumme</h2>

        <table id="table" class="table table-striped table-bordered table-hover">
            <thead>
            <tr>
                <th scope="col" data-sortable="true">Nutzer</th>
                <th class="text-right" scope="col" data-sortable="true">Summe</th>
            </tr>
            </thead>
            <tbody>
            {% for user,value in context.users.items %}
                <tr>
                    <td>
                        {% if user.first_name and user.last_name %}
                            {{ user.first_name }} {{ user.last_name }}
                        {% else %}
                            {{ user }}
                        {% endif %}
                    </td>
                    <td class="text-right">{{ value|div:100|floatformat:2 }} €</td>
                </tr>
            {% endfor %}
            <tr>
                <td><b>Summe</b></td>
                <td class="text-right"><b>{{ context.total_price|div:100|floatformat:2 }} €</b></td>
            </tr>
            </tbody>

        </table>
        <script>
            $(function () {
                $('#table').bootstrapTable()
            })
        </script>
    {% else %}
        <p>Noch keine Einträge vorhanden.</p>
    {% endif %}

{% endblock content %}

